class Hud extends GraphicsObject{static#maxTime=215999990;#currentAttackNumber;#numAttacks;#instructionsText;#currentAttackText;#loveText;#hpText;#hpGraphics;#elapsedTime;#timeText;#player;constructor(t,i,e,s){super(),this.#currentAttackNumber=0,this.#numAttacks=t,this.#instructionsText=new PIXI.extras.BitmapText("Press Z/Enter to confirm, X/Shift to Skip,\nand arrow keys/WASD/IJKL to move\n\nBased on Fairdyne by Joe Zeng",{font:"10px SpeechBubble",align:"center"}),this.#instructionsText.position.x=.5*Main.runner.gameWidth-.5*this.#instructionsText.width,this.#instructionsText.position.y=369,this.#currentAttackText=new PIXI.extras.BitmapText("",{font:"15px Numbers",align:"right"}),this.incrementAttackNumber(),this.#currentAttackText.position.x=20,this.#currentAttackText.position.y=450,this.#loveText=new PIXI.extras.BitmapText("LV "+i,{font:"15px Numbers",align:"left"}),this.#loveText.position.x=170,this.#loveText.position.y=450,this.#player=e,this.#hpText=new PIXI.extras.BitmapText("",{font:"15px Numbers",align:"right"}),this.#hpText.position.x=300,this.#hpText.position.y=450,this.#updateHp(),this.#elapsedTime=0,this.#timeText=new PIXI.extras.BitmapText("",{font:"15px Numbers",align:"right"}),this.#updateTime(0),this.#timeText.anchor=new PIXI.Point(1,0),this.#timeText.position.x=458,this.#timeText.position.y=450,this.#hpGraphics=new PIXI.Graphics,s.addChild(this.#instructionsText),s.addChild(this.#currentAttackText),s.addChild(this.#loveText),s.addChild(this.#hpText),s.addChild(this.#timeText),s.addChild(this.#hpGraphics)}static#formatTwoDigitFraction(t,i){return String(t).padStart(2,"0")+" / "+String(i).padStart(2,"0")}incrementAttackNumber(){this.#currentAttackNumber=Math.min(this.#currentAttackNumber+1,this.#numAttacks),this.#currentAttackText.text=Hud.#formatTwoDigitFraction(this.#currentAttackNumber,this.#numAttacks)}#updateHp(){this.#hpText.text=Hud.#formatTwoDigitFraction(this.#player.hp,Player.maxHp)}#updateTime(t){this.#elapsedTime=Math.min(this.#elapsedTime+t,Hud.#maxTime),this.#timeText.text=MathUtility.formatTime(this.#elapsedTime,"hours")}badLevelMode(){this.#instructionsText.position.y=300,this.#currentAttackText.visible=!1,this.#loveText.visible=!1,this.#hpText.visible=!1,this.#hpGraphics.visible=!1,this.#timeText.visible=!1}reset(){this.#instructionsText.visible=!1,this.#currentAttackNumber=0,this.incrementAttackNumber(),this.#updateHp(),this.#elapsedTime=0,this.#updateTime(0)}update(t){this.#updateHp(),this.#updateTime(t)}render(){this.#hpGraphics.clear(),this.#hpGraphics.beginFill(16711680,1),this.#hpGraphics.lineStyle(0,16777215,1),this.#hpGraphics.drawRect(262,447,28,21),this.#hpGraphics.beginFill(16776960,1),this.#hpGraphics.drawRect(262,447,28*this.#player.hp/Player.maxHp,21),this.#hpGraphics.endFill()}get currentAttackNumber(){return this.#currentAttackNumber}}
